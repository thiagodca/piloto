<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/templates/template.xhtml">
	
<ui:define name="content">

<h:body>

	<h:form id="formClientes">
 
	    <p:messages />
		<p:dataTable value="#{clienteBean.listaClientes}" var="cliente" >
			<p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteCodigo}
				</f:facet>
		
				#{cliente.codigo}
			</p:column>            
		    <p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteRazaoSocial}
				</f:facet>
		
		        #{cliente.razaoSocial}
			</p:column>
		    <p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteCpfCnpj}
				</f:facet>
		
		        #{cliente.cpfCnpj}
			</p:column>
		    <p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteUsuarioCriacao}
				</f:facet>
		
		        #{cliente.usuarioCriacao.login}
			</p:column>
		    <p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteDataCriacao}
				</f:facet>
		
				<h:outputLabel value="#{cliente.dataInclusao.time}">
		      		<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
				</h:outputLabel>
			</p:column>
			<p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteUsuarioAlteracao}
				</f:facet>
		
		        #{cliente.usuarioAlteracao.login}
			</p:column>
		    <p:column>
		    	<f:facet name="header">
		        	#{msgs.clienteDataAlteracao}
				</f:facet>
		
				<h:outputLabel value="#{cliente.dataAlteracao.time}">
		      		<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
				</h:outputLabel>
			</p:column>            
		    <p:column>
		    	<h:panelGrid columns="2">
		            <p:commandButton update=":#{p:component('formAlterarCliente')}" oncomplete="PF('dialogAlterarCliente').show()" immediate="true" title="#{msgs.atualizar}" icon="ui-icon-trash" rendered="#{loginBean.usuarioAdmin}" >
		                <f:setPropertyActionListener target="#{clienteBean.cliente}" value="#{cliente}" />
		            </p:commandButton>
		            <p:commandButton update=":#{p:component('formDeletarCliente')}" oncomplete="PF('dialogDeletarCliente').show()" immediate="true" title="#{msgs.deletar}" icon="ui-icon-trash" rendered="#{loginBean.usuarioAdmin}" >
		                <f:setPropertyActionListener target="#{clienteBean.cliente}" value="#{cliente}" />
		            </p:commandButton>
		            <h:inputHidden value="#{cliente.id}" />
		        </h:panelGrid>
		    </p:column>
		</p:dataTable>
		<p:commandButton update=":#{p:component('formIncluirCliente')}" oncomplete="PF('dialogIncluirCliente').show()" immediate="true" value="#{msgs.incluir}" icon="ui-icon-star"/>
	</h:form>
</h:body>
	
</ui:define>
</ui:composition>