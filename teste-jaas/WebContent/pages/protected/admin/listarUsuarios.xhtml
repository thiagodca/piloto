<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/templates/template.xhtml">
	
<ui:define name="content">

<h:body>

	<h:form id="formUsuarios">
 
	    <p:messages />
        <p:dataTable value="#{usuarioBean.listaUsuarios}" var="usuario" >
            <p:column>
                <f:facet name="header">
                    #{msgs.usuarioLogin}
                </f:facet>
 
                #{usuario.login}
            </p:column>
            <p:column>
                <f:facet name="header">
                    #{msgs.usuarioNome}
                </f:facet>
 
                #{usuario.nome}
            </p:column>
            <p:column>
                <h:panelGrid columns="2">
                    <!-- Always save the id as hidden when you use a request scope MB -->
                    <h:inputHidden value="#{usuario.login}" />
 
                    <p:commandButton update=":#{p:component('formAlterarUsuario')}" oncomplete="PF('dialogAlterarUsuario').show()" immediate="true" title="#{msgs.atualizar}" icon="ui-icon-trash" rendered="#{loginBean.usuarioAdmin}" >
                        <f:setPropertyActionListener target="#{usuarioBean.usuario}" value="#{usuario}" />
                    </p:commandButton>
                    <p:commandButton update=":#{p:component('formDeletarUsuario')}" oncomplete="PF('dialogDeletarUsuario').show()" immediate="true" title="#{msgs.deletar}" icon="ui-icon-trash" rendered="#{loginBean.usuarioAdmin}" >
                        <f:setPropertyActionListener target="#{usuarioBean.usuario}" value="#{usuario}" />
                    </p:commandButton>
                </h:panelGrid>
            </p:column>
        </p:dataTable>
        <p:commandButton update=":#{p:component('formIncluirUsuario')}" oncomplete="PF('dialogIncluirUsuario').show()" immediate="true" value="#{msgs.incluir} #{msgs.usuario}" icon="ui-icon-star"/>
    </h:form>
</h:body>

</ui:define>
</ui:composition>